<table id="sys_log" title="渠道商日志列表" class="easyui-datagrid" style="width:100;height:100;position: absolute"
        url="/cooperate/channel/log/"
        pagination="true"
        rownumbers="true"
        fitColumns="true"
        singleSelect="true"
        pageSize="20">
    <thead>
        <tr>
            <th field="id" width="20">id</th>
            <th field="channelid" width="40">通道名</th>
            <th field="cpid" width="40">渠道名</th>
            <th field="mobile" width="50">电话号码</th>
            <th field="spnumber" width="50">长号码</th>
            <th field="momsg" width="50">下行内容</th>
            <th field="linkid" width="70">LINKID</th>
            <th field="tongurl" width="30"  data-options="formatter: usr_cptonglog_manange.formatSynUrl">日志</th>
            <th field="backmsg" width="50">回执消息</th>
            <th field="tongdate" width="50">同步时间</th>
            <th field="statsmsg" width="30" data-options="formatter: usr_cptonglog_manange.formatCommand">同步状态</th>
            <th field="create_time" width="50" data-options="formatter: usr_cptonglog_manange.formatterDate">操作时间</th>
        </tr>
    </thead>
</table>
<script type="text/javascript">
    var usr_cptonglog_manange = {
        formatterDate: function(val, row) {
            var date = new Date(val);
            return date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + date.getDate()+' '+date.getUTCHours()+':'+date.getUTCMinutes()+':'+date.getSeconds();
        },
        formatCommand: function(val, row) {
            
            if (val == 'OK') {
                return '<span class="icon icon-ok">&nbsp;</span>'
            }else {
                return '<lable style="color:red"><span class="icon icon-error">&nbsp;</span></label>'
            }
        },
        formatSynUrl: function(val, row) {
            return '<a href="'+val+'" target="_blank" title="'+val+'">查看</a>';
        }
    }
</script>
